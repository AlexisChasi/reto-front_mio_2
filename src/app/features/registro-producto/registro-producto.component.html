<header>
  <img
    src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Banco_Pichincha_logo.svg/2560px-Banco_Pichincha_logo.svg.png"
    alt="Logo" class="logo-header" />
</header>

<div class="form-container">
  <h2 class="form-title">Formulario de Registro</h2>
  <hr />

  <form #productoForm="ngForm" (ngSubmit)="onSubmit()" class="form-grid">

    <div class="form-group">
      <label>ID</label>
      <input name="id" [(ngModel)]="producto.id" placeholder="ID entre 3-10 caracteres"  #id="ngModel" required minlength="3" maxlength="10" class="input"
        [readonly]="modoEdicion" [class.invalid]="(id.invalid && id.dirty || idVerificadoInvalid) && !modoEdicion"
        (blur)="verificarId()" />
      <div *ngIf="id.invalid && id.dirty && !modoEdicion" class="error-text">
        ¡ID debe tener entre 3 y 10 caracteres!
      </div>
      <div *ngIf="idVerificadoInvalid && !modoEdicion" class="error-text">
        ¡ID ya existe!
      </div>
    </div>

    <div class="form-group">
      <label>Nombre</label>
      <input name="name" [(ngModel)]="producto.name" placeholder="Nombre y Apellido 5-100 caracteres"  #name="ngModel" required minlength="5" maxlength="100"
        class="input" [class.invalid]="name.invalid && name.dirty" />
      <div *ngIf="name.invalid && name.dirty" class="error-text">
        Nombre debe tener entre 5 y 100 caracteres
      </div>
    </div>

    <div class="form-group">
      <label>Descripción</label>
      <input name="description" [(ngModel)]="producto.description" placeholder="Ingrese de 10-200 caracteres"  #desc="ngModel" required minlength="10"
        maxlength="200" class="input" [class.invalid]="desc.invalid && desc.dirty" />
      <div *ngIf="desc.invalid && desc.dirty" class="error-text">
        Descripción debe tener entre 10 y 200 caracteres
      </div>
    </div>

    <div class="form-group">
      <label>Logo</label>
      <input name="logo" [(ngModel)]="producto.logo" placeholder="URL" #logo="ngModel" required class="input"
        [class.invalid]="logo.invalid && logo.dirty" />
      <div *ngIf="logo.invalid && logo.dirty" class="error-text">Logo requerido</div>
    </div>

    <div class="form-group">
      <label>Fecha Liberación</label>
      <input type="date" name="date_release" [(ngModel)]="producto.date_release" #release="ngModel" required
        class="input" [class.invalid]="release.invalid && release.dirty || fechaLiberacionInvalida"
        (change)="onFechaLiberacionChange()" />
      <div *ngIf="fechaLiberacionInvalida" class="error-text">
        La fecha debe ser igual o mayor a la fecha actual
      </div>
    </div>

    <div class="form-group">
      <label>Fecha Revisión</label>
      <input type="date" name="date_revision" [(ngModel)]="producto.date_revision" #revision="ngModel" required
        class="input" disabled />
    </div>

    <div class="form-buttons">
      <button type="button" class="btn-reset" (click)="onReset()">Reiniciar</button>
      <button type="submit" class="btn-submit"
        [disabled]="!productoForm.valid || fechaLiberacionInvalida || idVerificadoInvalid">
        Enviar
      </button>
    </div>
  </form>

  <div class="form-buttons">
    <button type="button" class="btn-back" (click)="goBack()">Atrás</button>
  </div>
</div>